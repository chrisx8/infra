---
- name: Set up webhosts
  hosts: webhosts
  become: true
  vars:
  vars_prompt:
    - name: external_client_id
      prompt: "External AuthProxy - Enter OAuth Client ID"
    - name: external_client_secret
      prompt: "External AuthProxy - Enter OAuth Client Secret"
    - name: internal_client_id
      prompt: "Internal AuthProxy - Enter OAuth Client ID"
    - name: internal_client_secret
      prompt: "Internal AuthProxy - Enter OAuth Client Secret"
    - name: dokuwiki_download_url
      prompt: "Go to https://download.dokuwiki.org and create your own DokuWiki archive.\n
              Enter DokuWiki download URL"
  tasks:
  - name: Run basic setup
    include_role:
      name: basic
  - name: Run webhost setup
    include_role:
      name: webhost
  - name: Reboot
    reboot:

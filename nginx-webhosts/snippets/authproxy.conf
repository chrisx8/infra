location /authproxy/internal/auth {
	internal;
	proxy_pass http://127.0.0.1:34181;
	proxy_set_header Host $host;
	proxy_set_header X-Real-IP $remote_addr;
	proxy_set_header X-Scheme $scheme;
	proxy_set_header Content-Length "";
	proxy_pass_request_body off;
}

location /authproxy/external/auth {
	internal;
	proxy_pass http://127.0.0.1:34182;
	proxy_set_header Host $host;
	proxy_set_header X-Real-IP $remote_addr;
	proxy_set_header X-Scheme $scheme;
	proxy_set_header Content-Length "";
	proxy_pass_request_body off;
}

location @internalauth {
	return 302 https://tinynet.chrisx.xyz/authproxy/internal/sign_in?rd=$scheme://$host$request_uri;
}

location @externalauth {
	return 302 https://tinynet.chrisx.xyz/authproxy/external/sign_in?rd=$scheme://$host$request_uri;
}

---
- name: Set up container hosts
  hosts: vm01-apps
  become: true
  vars_prompt:
    - name: acme_email
      prompt: "acme.sh - Enter email address"
    - name: acme_domain
      prompt: "acme.sh - Enter domain"
    - name: cf_token
      prompt: "acme.sh - Enter Cloudflare API token"
    - name: cf_account_id
      prompt: "acme.sh - Enter Cloudflare Account ID"
    - name: cf_zone_id
      prompt: "acme.sh - Enter Cloudflare Zone ID"
    - name: miniflux_client_secret
      prompt: "Miniflux - OIDC Client Secret"
  tasks:
  - name: Basic setup
    import_role:
      name: base
  - name: Basic setup (VM)
    import_role:
      name: base_vm
  - name: Set up containers
    import_role:
      name: containers

- name: Verify system
  ansible.builtin.assert:
    that:
      - ansible_facts.distribution != 'Fedora'
      - ansible_facts.distribution_major_version == '9'
      - ansible_facts.os_family == 'RedHat'

- name: Generate self-signed ssl cert
  ansible.builtin.import_role:
    name: inf/ssl
    tasks_from: self.yml

- name: Set up Apache httpd
  ansible.builtin.import_tasks: apache.yml
- name: Set up PHP
  ansible.builtin.import_tasks: php.yml
- name: Set up Composer
  ansible.builtin.import_tasks: composer.yml
  when: php_composer is defined and php_composer

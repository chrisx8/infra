---
- name: Install Launcher
  block:
    - name: Load Launcher vars
      ansible.builtin.include_vars:
        file: launcher.yml
    - name: Deploy
      ansible.builtin.import_role:
        name: launcher_tw
      become: false
      vars:
        launchertw_operation: deploy # noqa var-naming[no-role-prefix]
        launchertw_deploy_target_dir: /opt/apache/www/pages/launcher # noqa var-naming[no-role-prefix]

- name: Install Admin Center
  block:
    - name: Load Admin Center vars
      ansible.builtin.include_vars:
        file: admin-center.yml
    - name: Deploy
      ansible.builtin.import_role:
        name: launcher_tw
      become: false
      vars:
        launchertw_operation: deploy # noqa var-naming[no-role-prefix]
        launchertw_deploy_target_dir: /opt/apache/www/pages/launcher/admin # noqa var-naming[no-role-prefix]

- name: Copy index html
  ansible.builtin.copy:
    src: pages/index.html
    dest: /opt/apache/www/pages/index.html
    mode: "0644"
